<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using Vim with Leo &mdash; Leo Doc</title>
    
    <link rel="stylesheet" href="_static/leo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Leo Doc" href="index.html" />
    <link rel="up" title="Leo and Other Programs" href="leoandotherprograms.html" />
    <link rel="next" title="Embedding Leo with the leoBridge module" href="leoBridge.html" />
    <link rel="prev" title="Leo and Emacs" href="emacs.html" />
    <script type="text/javascript">
        (function() {
            var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
            t.parentNode.insertBefore(s, t);
        })();
    </script>
     

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="leoBridge.html" title="Embedding Leo with the leoBridge module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="emacs.html" title="Leo and Emacs"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">Leo Doc</a> &raquo;</li>
          <li><a href="leoandotherprograms.html" accesskey="U">Leo and Other Programs</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="using-vim-with-leo">
<h1><a class="toc-backref" href="#id1">Using Vim with Leo</a><a class="headerlink" href="#using-vim-with-leo" title="Permalink to this headline">¶</a></h1>
<p>This chapter discusses these topics:</p>
<ul class="simple">
<li>How to enable and use Leo&#8217;s new vim-emulation mode.</li>
<li>How to import and export vim&#8217;s .otl files.</li>
<li>How to install and use stand-alone vim-like bindings.</li>
</ul>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#using-vim-with-leo" id="id1">Using Vim with Leo</a><ul>
<li><a class="reference internal" href="#using-leo-s-native-vim-mode" id="id2">Using Leo&#8217;s native vim mode</a><ul>
<li><a class="reference internal" href="#supported-commands" id="id3">Supported commands</a></li>
<li><a class="reference internal" href="#differences-from-the-real-vim" id="id4">Differences from the real vim</a></li>
<li><a class="reference internal" href="#abbreviations" id="id5">Abbreviations</a></li>
<li><a class="reference internal" href="#colon-commands" id="id6">Colon commands</a></li>
<li><a class="reference internal" href="#settings" id="id7">Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-vimoutline-otl-files-in-leo" id="id8">Using vimoutline (.otl) files in Leo</a></li>
<li><a class="reference internal" href="#using-stand-alone-vim-bindings" id="id9">Using stand-alone vim bindings</a><ul>
<li><a class="reference internal" href="#installing-vim-bindings" id="id10">Installing vim bindings</a></li>
<li><a class="reference internal" href="#general-commands" id="id11">General commands</a></li>
<li><a class="reference internal" href="#body-pane-commands" id="id12">Body pane commands</a></li>
<li><a class="reference internal" href="#outline-commands" id="id13">Outline commands</a></li>
<li><a class="reference internal" href="#commands-not-supported" id="id14">Commands not supported</a></li>
<li><a class="reference internal" href="#avoiding-changes-to-tag-files" id="id15">Avoiding changes to &#8216;tag&#8217; files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="using-leo-s-native-vim-mode">
<h2><a class="toc-backref" href="#id2">Using Leo&#8217;s native vim mode</a><a class="headerlink" href="#using-leo-s-native-vim-mode" title="Permalink to this headline">¶</a></h2>
<p>In general, vim-mode in Leo works much as in the real vim. There are three
modes, insert, normal and visual.</p>
<div class="section" id="supported-commands">
<h3><a class="toc-backref" href="#id3">Supported commands</a><a class="headerlink" href="#supported-commands" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Cursor motions: ^,$,0,b,e,f,F,gg,gG,j,h,k,l,t,T,w.</li>
<li>The gb,ge,gh commands are synonyms for 0,$,^.</li>
<li>The h,j,k,l commands work on outlines when entered in the outline pane.</li>
<li>0 in outline pane: goto-first-visible-node</li>
<li>e in outline pane: goto-last-visible-node.</li>
<li>Deleting text: d{motion},{motion}d,v{motion}d,diw,x.</li>
<li>Insert commands: a,A,i,o,O and switch to insert mode if entered in the outline pane.</li>
<li>Yank &amp; paste commands: y,p. These act on outlines if entered in the outline pane.</li>
<li>Search commands: /,?,n,*,#.  These commands are node-only searches.</li>
<li>The dot command &#8216;.&#8217; works for motions, but not yet for inserts or searches.</li>
<li>v: start/end visual mode.</li>
</ul>
<p>Notes:</p>
<ul class="simple">
<li>Except as noted above, all vim-mode commands must be entered in the body pane.</li>
<li>&lt;Return&gt; in headlines switches to the outline pane.</li>
<li>&lt;Return&gt; in the outline pane switches to the body pane.</li>
</ul>
</div>
<div class="section" id="differences-from-the-real-vim">
<h3><a class="toc-backref" href="#id4">Differences from the real vim</a><a class="headerlink" href="#differences-from-the-real-vim" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The gb,ge,gh commands are synonyms for 0,$,^.</li>
<li>The h,j,k,l commands work on outlines when entered in the outline pane.</li>
<li>The a,A,i,o,O commands switch to insert mode if entered in the outline pane.</li>
<li>The y,p commands act on outlines if entered in the outline pane.</li>
<li>Ending visual mode with &#8216;v&#8217; retains the selection range.</li>
<li>Ctrl-H puts the headline in insert mode.</li>
<li>Mouse clicks never change vim&#8217;s state.</li>
</ul>
</div>
<div class="section" id="abbreviations">
<h3><a class="toc-backref" href="#id5">Abbreviations</a><a class="headerlink" href="#abbreviations" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">jj</span></tt> abbreviation switches to normal mode, preserving the changed
status of the .leo file.</li>
<li>Return in visual/normal mode enters insert mode.</li>
</ul>
</div>
<div class="section" id="colon-commands">
<h3><a class="toc-backref" href="#id6">Colon commands</a><a class="headerlink" href="#colon-commands" title="Permalink to this headline">¶</a></h3>
<p>The &#8216;:&#8217; command enters Leo&#8217;s minibuffer, with &#8216;:&#8217; pre-inserted. You may
backspace over the &#8216;:&#8217;. Here are the commands:</p>
<div class="highlight-python"><div class="highlight"><pre>:! Execute a shell command.
:e! Revert all changes to a .leo file, prompting if there have been changes.
:gt cycle-focus
:q Quit, prompting for saves.
:qa Quit only if there are no unsaved changes.
:r Prompt for a file name.  Insert it at the cursor.
:tabnew Prompt for a file name, and open a new tab.
:w Save the .leo file.
:wa Save all changed  .leo files.
:wq Save all open files and exit.
:xa ave all open files and exit.
</pre></div>
</div>
<p>The following colon commands are unique to Leo:</p>
<div class="highlight-python"><div class="highlight"><pre>:print-vim-dot
:toggle-vim-mode
:toggle-vim-trainer-mode
</pre></div>
</div>
</div>
<div class="section" id="settings">
<h3><a class="toc-backref" href="#id7">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h3>
<p><strong>&#64;bool vim-mode = False</strong>: Enables Leo&#8217;s vim mode when True.</p>
<p><strong>&#64;bool vim-crosses-lines = True</strong>: When True the f,F,h,l,t,T,x
commands may cross line boundaries.</p>
</div>
</div>
<div class="section" id="using-vimoutline-otl-files-in-leo">
<h2><a class="toc-backref" href="#id8">Using vimoutline (.otl) files in Leo</a><a class="headerlink" href="#using-vimoutline-otl-files-in-leo" title="Permalink to this headline">¶</a></h2>
<p>Leo can automatically import and export vimoutline (.otl) files. Nodes like:</p>
<div class="highlight-python"><div class="highlight"><pre>@auto-otl &lt;path to .otl file&gt;
</pre></div>
</div>
<p>or equivalently:</p>
<div class="highlight-python"><div class="highlight"><pre>@auto-vimoutline &lt;path to .otl file&gt;
</pre></div>
</div>
<p>import the .otl as a Leo outline.</p>
<p>These nodes work like other &#64;auto nodes: when Leo loads an outline, Leo
reads the .otl file into the &#64;auto-otl tree. When Leo writes an outline,
Leo writes any &#64;auto-otl tree back to the .otl file.</p>
<p>After creating an &#64;auto-otl node by hand, be sure to use Leo&#8217;s
refresh-from-disk command to populate the node. Do this <em>before</em> saving the
.leo file. If you try to save an empty &#64;auto-otl node Leo will warn you
that you are about to overwrite the file.</p>
<p>The refresh-from-disck command creates an &#64;auto-otl node whose <strong>children</strong>
represent the contents of the external .otl file. Leo does <em>not</em> write the
&#64;auto-otl node itself. This allows you to put Leo directives in the node.</p>
</div>
<div class="section" id="using-stand-alone-vim-bindings">
<h2><a class="toc-backref" href="#id9">Using stand-alone vim bindings</a><a class="headerlink" href="#using-stand-alone-vim-bindings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installing-vim-bindings">
<h3><a class="toc-backref" href="#id10">Installing vim bindings</a><a class="headerlink" href="#installing-vim-bindings" title="Permalink to this headline">¶</a></h3>
<p>Place a copy of the &#8220;&#64;keys Vim bindings&#8221; node and its sub-nodes,
located in the leoSettings.leo file, under the &#8220;&#64;settings&#8221; node
in the myLeoSettings.leo file</p>
<p>The same procedure is performed to update to a new version.</p>
<p>Note: Place any local customized key bindings in a separate
&#8220;&#64;keys My Vi&#8221; node in the myLeoSettings.leo file to prevent
them from being overwritten when updating to a new version.</p>
</div>
<div class="section" id="general-commands">
<h3><a class="toc-backref" href="#id11">General commands</a><a class="headerlink" href="#general-commands" title="Permalink to this headline">¶</a></h3>
<p>The following commands are always available.</p>
<p>State change commands:</p>
<div class="highlight-python"><div class="highlight"><pre>i           Change state to insert from command state
Esc         Change state to command from insert state
Ctrl-[      Same as ESC
</pre></div>
</div>
<p>Save/Exit/Quite commands:</p>
<div class="highlight-python"><div class="highlight"><pre>:e          Revert
:w&lt;return&gt;  Save &#39;.leo&#39; file
:wq&lt;return&gt; Save &#39;.leo&#39; file and quit Leo
:q&lt;return&gt;  Quit Leo   (Leo will prompt if file not saved)
ZZ          Save leo file and exit
</pre></div>
</div>
<p>Undo/Redo commands:</p>
<div class="highlight-python"><div class="highlight"><pre>u           Undo previous command
Ctrl-r      Redo previous command
</pre></div>
</div>
<p>Search options:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-/      Prompt for option to change
            Options:
                a   Search all nodes (also &lt;cr&gt; key)
                h   Toggle headline search
                b   Toggle body search
                m   Toggle marking of nodes (specify sub-option)
                    f   Toggle marking of nodes with found text
                    c   Toggle marking of nodes with changed text
                        (only supported with &#39;Alt-/&#39;, &#39;Alt-p&#39;)
                r   Toggle regex matches
                    (&#39;/&#39; key turns off regex. &#39;n&#39; key uses regex if turned on)

Note: Whether a search is limited to node&#39;s body or the node&#39;s sub-outline
      is determined by which pane has focus when search text specified.
      (See &quot;Find text commands:&quot; sub-sections in Outline/Body Pane sections)
</pre></div>
</div>
<p>Miscellaneous commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Tab         Toggle focus between Outline and Body pane
=           Simulate double-click on current node&#39;s icon box
Alt-G       Go to specified line number (relative to external file)
Ctrl-:      Enter Leo&#39;s command line
</pre></div>
</div>
</div>
<div class="section" id="body-pane-commands">
<h3><a class="toc-backref" href="#id12">Body pane commands</a><a class="headerlink" href="#body-pane-commands" title="Permalink to this headline">¶</a></h3>
<p>Move cursor commands:</p>
<div class="highlight-python"><div class="highlight"><pre>h           Go back 1 character
   LtArrow  Mapped to &quot;h&quot; for convenience
j           Go down 1 line
   DnArrow  Mapped to &quot;j&quot; for convenience
k           Go up 1 line
   UpArrow  Mapped to &quot;k&quot; for convenience
l           Go forward 1 character
   RtArrow  Mapped to &quot;l&quot; for convenience

w           Go to beginning of next word
   W        Mapped to &quot;w&quot; until &quot;stop after blank characters&quot; supported
b           Go to beginning of current/previous word
   B        Mapped to &quot;b&quot; until &quot;stop at blank character&quot; supported
e           Go to end of current/next word
   E        Mapped to &quot;e&quot; until &quot;stop at blank character&quot; supported

Note: Move by word commands stop at non-alpha characters

|           Goto beginning of current line
^           Go to 1st non-blank character on current line
$           Goto end of current line

%           Go to matching bracket

(           Go to beginning of current sentence
)           Go to beginning of next sentence
{           Go to beginning of current paragraph
}           Go to beginning of next paragraph

gg          Go to the first line (Cursor at column 1)
G           Go to the last line  (Cursor at column 1)
</pre></div>
</div>
<p>Mark commands:</p>
<div class="highlight-python"><div class="highlight"><pre>m&lt;label&gt;    Assign cursor location to a single character label
`&lt;label&gt;    Go to location associated with label

  Note: Only character count is tracked. Any inserts or deletes will change mark.
      Mark&#39;s are not node specific; `&lt;label&gt; will go to location in current node.
</pre></div>
</div>
<p>Select commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-v      Toggle text select mode (Vim&#39;s &quot;visual&quot; mode)
   V        Mapped to &#39;Ctrl-v&#39; for convenience (Should toggle line select)
</pre></div>
</div>
<p>Insert/substitute commands:</p>
<div class="highlight-python"><div class="highlight"><pre>a           Insert at cursor
i           Mapped to &quot;a&quot; until &quot;cursor on a character&quot; supported
A           Insert at end of line
I           Insert at first non-space
o           Open new line below current line
O           Open new line above current line
R           Overwrite text
s           Substitute character (Delete character, enter insert state)
S           Substitute line (Delete line, enter insert state)
</pre></div>
</div>
<p>Change commands:</p>
<div class="highlight-python"><div class="highlight"><pre>C           Change to end of line
cc          Change all of current line
cw          Change to end of word
cb          Change to beginning of word
c)          Delete to end of sentence
c(          Delete to beginning of sentence
c}          Delete to end of paragraph
c{          Delete to beginning of paragraph
c%          Change from current bracket type its matching bracket type
ct&lt;char&gt;    Selects forward to &lt;char&gt; (follow with &#39;i&#39; to change selection)
cT&lt;char&gt;    Selects backward to &lt;char&gt; (follow with &#39;i&#39; to change selection)
c&lt;cr&gt;       Change selected text
</pre></div>
</div>
<p>Delete commands:</p>
<div class="highlight-python"><div class="highlight"><pre>x           Delete next character
delete      Delete next character
D           Delete to the end of the current line
dd          Delete current line
dw          Delete to end of word
db          Delete to beginning of word
d)          Delete to end of sentence
d(          Delete to beginning of sentence
d}          Delete to end of paragraph
d{          Delete to start of paragraph
d%          Delete from current bracket type to its apposing bracket
dt&lt;ch&gt;      Delete to character (not limited to current line)
d&lt;cr&gt;       Delete selected text

J           Join next line to end of current line (deletes carriage return)
</pre></div>
</div>
<p>Yank text commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Y           Yank to end of line
yy          Yank line
yw          Yank to beginning of next word
yb          Yank to beginning of current word
y)          Yank to end of sentence
y(          Yank to beginning of sentence
y}          Yank to end of paragraph
y{          Yank to beginning of paragraph
y%          Yank from current bracket type to its opposing bracket
yt&lt;char&gt;    Select forward to &lt;char&gt;  (use &#39;y&lt;cr&gt;&#39; to yank selection)
yT&lt;char&gt;    Select backward to &lt;char&gt; (use &#39;y&lt;cr&gt;&#39; to yank selection)
y&lt;cr&gt;       Yank selected text (Vim uses &#39;y&#39; in visual mode)
</pre></div>
</div>
<p>Find character commands:</p>
<div class="highlight-python"><div class="highlight"><pre>f           Find next occurrence of user specified character
F           Find previous occurrence of user specified character
</pre></div>
</div>
<p>Find text commands:</p>
<div class="highlight-python"><div class="highlight"><pre>/           Search forward within current node&#39;s body text
?           Search backward within current node&#39;s body text
n           Find next (same scope, same direction)
N           Find next (same scope, other direction)

Note: See &quot;Search options&quot; in General Commands section to change options.
</pre></div>
</div>
<p>Replace [and find next] commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Commands using Paste buffer (clipboard)
P           Paste text before cursor.
p           Mapped to &quot;P&quot; until character based cursor supported.
Ctrl-p      Paste then find next match
            Note: Use &#39;pn&#39; instead of &#39;Ctrl-p&#39; in headlines (Leo limitation)
                  Command will continue to paste when match no longer found.

Commands prompting for replace string
Note: Scope and direction taken from last use of &#39;/&#39;,&#39;?&#39; or &#39;Ctrl-/&#39;(scope only)
Alt-/       Prompt for search &amp; replace string
Alt-p       Replace then search (use after Alt-/)
            Note: Works in headlines and body panes.
                  Doesn&#39;t paste unless last search found a match.
</pre></div>
</div>
<p>Indent/Unindent line commands:</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;          Indent the current line
&gt;)          Indent to the end of sentence
&gt;(          Indent to the beginning of sentence
&gt;}          Indent to the end of paragraph
&gt;{          Indent to the beginning of paragraph
&gt;g          Indent to the start of buffer
&gt;G          Indent to the end of buffer

&lt;&gt;          Unindent the current line
&lt;)          Unindent to the end of sentence
&lt;(          Unindent to the beginning of sentence
&lt;}          Unindent to the end of paragraph
&lt;{          Unindent to the beginning of paragraph
&lt;g          Unindent to the start of buffer
&lt;G          Unindent to the end of buffer
</pre></div>
</div>
<p>Format commands:</p>
<div class="highlight-python"><div class="highlight"><pre>gqap        Split long line into separate lines
gwap        Split long line into separate lines
gqq         Split long line into separate lines
gww         Split long line into separate lines

Note: &#39;gwap&#39; and &#39;gww&#39; should not move cursor but do.
</pre></div>
</div>
<p>Scroll commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-b      Scroll text up by pane&#39;s height
Ctrl-f      Scroll text down by pane&#39;s height
   Ctrl-y   Mapped to Ctrl-b until scroll up one line is supported
   Ctrl-e   Mapped to Ctrl-f until scroll down one line is supported
   Ctrl-u   Mapped to Ctrl-b until scroll up half a pane height is supported
   Ctrl-d   Mapped to Ctrl-f until scroll down half a pane height is supported
</pre></div>
</div>
<p>Window commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-w s    Open another view into current node&#39;s body (Vim: Split window)
   Ctrl-w n Mapped to &quot;Ctrl-w s&quot; (Vim: New buffer in split window)
Ctrl-w w    Switch to next view (Vim: Go to up/left window w/wrapping)
   Ctrl-w p Mapped to &quot;Ctrl-w w&quot; (Vim: Cycle through windows)
   Ctrl-w k Mapped to &quot;Ctrl-w w&quot; (Vim: Go to window above current window)
   Ctrl-w j Mapped to &quot;Ctrl-w w&quot; (Vim: Go to window below current window)
Ctrl-w c    Close current view in body pane (Vim: Close current window)
   Ctrl-w q Mapped to &quot;Ctrl-w c&quot; (Vim: Quit current window)
</pre></div>
</div>
<p>Node commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Go to another node while focus remains in the body pane.
Ctrl-j      Go to next visible node
Ctrl-k      Go to previous visible node
Ctrl-h      Hide sub-nodes or, if hidden, go up 1 level
Ctrl-l      Display sub-nodes or, if displayed, go down 1 level
   Ctrl-DnArrow    Mapped to &quot;Ctrl-j&quot; for convenience
   Ctrl-UpArrow    Mapped to &quot;Ctrl-k&quot; for convenience
   Ctrl-LtArrow    Mapped to &quot;Ctrl-h&quot; for convenience
   Ctrl-RtArrow    Mapped to &quot;Ctrl-l&quot; for convenience
</pre></div>
</div>
</div>
<div class="section" id="outline-commands">
<h3><a class="toc-backref" href="#id13">Outline commands</a><a class="headerlink" href="#outline-commands" title="Permalink to this headline">¶</a></h3>
<p>The following commands are supported when in a headline&#8217;s command mode.</p>
<p>State change commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-i      Change state to command from grayed state
return      Change state to command from insert state
Ctrl-]      Change state to grayed from command state
</pre></div>
</div>
<p>Cursor movement commands:</p>
<div class="highlight-python"><div class="highlight"><pre>h           Go to previous character
   LtArrow  Mapped to &#39;h&#39; for convenience
l           Go to next character
   RtArrow  Mapped to &quot;l&quot; for convenience

Note: &#39;j&#39; and &#39;k&#39; will scroll the buffer contents up and down;
      leaving the focus in the outline pane.

w           Go to beginning of next word
   W        Mapped to &quot;w&quot; until &quot;stop after blank characters&quot; supported
b           Go to beginning of current/previous word
   B        Mapped to &quot;b&quot; until &quot;stop at blank character&quot; supported
e           Go to end of current/next word
   E        Mapped to &quot;e&quot; until &quot;stop at blank character&quot; supported

Note: Move by word commands stop at non-alpha characters

|           Go to beginning of line
^           Go to beginning of line
$           Go to end of line

%           Go to matching bracket
</pre></div>
</div>
<p>Edit commands:</p>
<div class="highlight-python"><div class="highlight"><pre>x           Delete next character
delete      Delete next character
dd          kill-line

s           Select current character

v           Toggle text select mode (issue cursor movement commands)
y&lt;return&gt;   Yank selected text

C           Select to end of line (follow with &#39;i&#39; to change text)
cc          Delete line (follow with &#39;i&#39; to change text)

D           Select to end of line (follow with &#39;x&#39; to delete text)
dd          Delete line

Y           Select to end of line (follow with &#39;y&lt;return&gt;&#39; to yank text)
yy          Select line (follow with &#39;y&lt;return&gt;&#39; to yank text)
</pre></div>
</div>
<p>Find character commands:</p>
<div class="highlight-python"><div class="highlight"><pre>f           Find next occurrence of user specified character
F           Find previous occurrence of user specified character
</pre></div>
</div>
<p>Find text commands:</p>
<div class="highlight-python"><div class="highlight"><pre>/           Search forward within current node and its subnodes
n           Find next (same scope, same direction)
N           Find next (same scope, other direction)

Note: See &quot;Search options&quot; section above to change options using &#39;Ctrl-/&#39;
</pre></div>
</div>
<p>Replace [and find next] commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Commands that use Paste buffer (clipboard)
Note: Paste-then-search command not possible in headlines (Use &#39;pn&#39;)
P           Paste text before cursor.
p           Mapped to &quot;P&quot; until character based cursor supported.

Commands that prompt for the replace string
Alt-/       Prompt for search &amp; replace string
Alt-p       Replace then search (use after Alt-/)
            Note: Works in headlines and body panes.
                  Doesn&#39;t paste unless last search found a match.
</pre></div>
</div>
<p>Node edit commands:</p>
<div class="highlight-python"><div class="highlight"><pre>o           Insert node after current node

Ctrl-x      Delete current node
Ctrl-c      Yank current node
Ctrl-v      Paste current node
</pre></div>
</div>
<p>Node goto commands:</p>
<div class="highlight-python"><div class="highlight"><pre>G           Go to the outline&#39;s last node
gg          Go to the outline&#39;s first node

Ctrl-j      Go to next visible node
Ctrl-k      Go to previous visible node
Ctrl-h      Hide sub-nodes or, if hidden, go up 1 level
Ctrl-l      Display sub-nodes or, if displayed, go down 1 level

   DnArrow  Mapped to &quot;Ctrl-j&quot; for convenience
   UpArrow  Mapped to &quot;Ctrl-k&quot; for convenience

   Ctrl-DnArrow Mapped to &quot;Ctrl-j&quot; for convenience
   Ctrl-UpArrow Mapped to &quot;Ctrl-k&quot; for convenience
   Ctrl-LtArrow Mapped to &quot;Ctrl-h&quot; for convenience
   Ctrl-RtArrow Mapped to &quot;Ctrl-l&quot; for convenience
</pre></div>
</div>
<p>Node move commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-Shift-k    Move node down
Ctrl-Shift-h    Move node left
Ctrl-Shift-l    Move node right
Ctrl-Shift-j    Move node up

   Ctrl-Shift-DnArrow    Mapped to &quot;Ctrl-Shift-k&quot; for convenience
   Ctrl-Shift-LtArrow    Mapped to &quot;Ctrl-Shift-h&quot; for convenience
   Ctrl-Shift-RtArrow    Mapped to &quot;Ctrl-Shift-l&quot; for convenience
   Ctrl-Shift-UpArrow    Mapped to &quot;Ctrl-Shift-j&quot; for convenience
</pre></div>
</div>
<p>Node mark commands:</p>
<div class="highlight-python"><div class="highlight"><pre>m           Toggle node mark
Ctrl-m      Go to next marked node
Alt-m       Clear all marked nodes
</pre></div>
</div>
<p>Node clone commands:</p>
<div class="highlight-python"><div class="highlight"><pre>t           Clone the current node (transclude)
Ctrl-t      Go to next clone of current node
</pre></div>
</div>
<p>Outline scroll commands:</p>
<div class="highlight-python"><div class="highlight"><pre>Ctrl-y       Scroll outline up one line
Ctrl-e       scroll outline down one line
Ctrl-u       Scroll outline up one half page
Ctrl-d       scroll outline down one half page
Ctrl-b       Scroll outline up one page
Ctrl-f       scroll outline down one page
</pre></div>
</div>
</div>
<div class="section" id="commands-not-supported">
<h3><a class="toc-backref" href="#id14">Commands not supported</a><a class="headerlink" href="#commands-not-supported" title="Permalink to this headline">¶</a></h3>
<p>Notable missing editing commands:</p>
<div class="highlight-python"><div class="highlight"><pre>t&lt;char&gt;     Move cursor to character before specified character
r           Replace a single character with a single character
0           Go to 1st column in current line (Use &#39;|&#39; instead)
bksp        Move one character to the left
~           Toggle character&#39;s case
.           Repeat last editing command
;           Repeat last cursor movement command
&lt;n&gt;&lt;cmd&gt;    Perform command &#39;n&#39; number of times
&lt;cmd&gt;&lt;n&gt;&lt;object&gt;    Perform the command on the n&#39;th or up to the n&#39;th object
</pre></div>
</div>
<p>Notable missing body pane commands:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;num&gt;G      Go to specified line number
z&lt;movement&gt; Slide buffer to put current line at top/middle/bottom of pane
&#39;&lt;command&gt;  Go to line of last edit, jump, ...
`&lt;command&gt;  Go to character of last edit, jump, ...
</pre></div>
</div>
</div>
<div class="section" id="avoiding-changes-to-tag-files">
<h3><a class="toc-backref" href="#id15">Avoiding changes to &#8216;tag&#8217; files</a><a class="headerlink" href="#avoiding-changes-to-tag-files" title="Permalink to this headline">¶</a></h3>
<p>If you use the open-with command to open a node text in Vim and your
Vim&#8217;s &#8220;tag&#8221; file refers to external files then there is a risk that a
external file that is initially displayed via the &#8220;tag&#8221; command&#8221; in
Vim is accidentally edited and saved from the external Vim editor
while your Leo session still contains the external file&#8217;s original
text that may later recreate the original external file during a Leo
save operation (overwriting the changes saved from the Vim editor).</p>
<p>To prevent this problem, modifications to external files can be avoided by using
Vim&#8217;s &#8220;modeline&#8221; feature to disable editing of external files.</p>
<p>Vim&#8217;s &#8220;modeline&#8221; feature scans each loaded buffer for text at the top or bottom
of the file containing &#8221; vim:&#8221; followed by a series of Vim options. The text is
usually embedded within a comment. The following example prevents modifications
to a buffer in a Python file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># vim:noma (A space is required between the &#39;#&#39; and &quot;vim:noma&quot;)</span>
</pre></div>
</div>
<p>If this line is placed in a separate Leo node at the top or bottom of the list
of nodes under a external file node (ex: &#64;file) then any external file saved and
then later loaded into Vim will, by default, not be modifiable. If a derived
file does need to be edited then modifications can be re-enabled on a
file-by-file basis by issuing Vim&#8217;s &#8221;:ma&#8221; command while viewing the derived
file.</p>
<p>The number of lines that Vim checks at the top and bottom of the buffer is
configurable. The following Vim command must be placed in the vimrc file to
allow for Leo&#8217;s trailing sentinel lines:</p>
<div class="highlight-python"><div class="highlight"><pre>set modelines=8
</pre></div>
</div>
<p>Issue the &#8221;:help modeline&#8221; command within Vim for the more information about
modelines.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/Leo4-80-border.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using Vim with Leo</a><ul>
<li><a class="reference internal" href="#using-leo-s-native-vim-mode">Using Leo&#8217;s native vim mode</a><ul>
<li><a class="reference internal" href="#supported-commands">Supported commands</a></li>
<li><a class="reference internal" href="#differences-from-the-real-vim">Differences from the real vim</a></li>
<li><a class="reference internal" href="#abbreviations">Abbreviations</a></li>
<li><a class="reference internal" href="#colon-commands">Colon commands</a></li>
<li><a class="reference internal" href="#settings">Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-vimoutline-otl-files-in-leo">Using vimoutline (.otl) files in Leo</a></li>
<li><a class="reference internal" href="#using-stand-alone-vim-bindings">Using stand-alone vim bindings</a><ul>
<li><a class="reference internal" href="#installing-vim-bindings">Installing vim bindings</a></li>
<li><a class="reference internal" href="#general-commands">General commands</a></li>
<li><a class="reference internal" href="#body-pane-commands">Body pane commands</a></li>
<li><a class="reference internal" href="#outline-commands">Outline commands</a></li>
<li><a class="reference internal" href="#commands-not-supported">Commands not supported</a></li>
<li><a class="reference internal" href="#avoiding-changes-to-tag-files">Avoiding changes to &#8216;tag&#8217; files</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p>Leo: Leonine Editor with Outlines</p>
<p>Written by <a HREF="ekr.html">Edward K. Ream</a>
<a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://leoeditor.com"></a>
<noscript>
<a href="http://flattr.com/thing/410073/Leo" target="_blank">
<img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
</a>
</noscript>
</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="leoBridge.html" title="Embedding Leo with the leoBridge module"
             >next</a> |</li>
        <li class="right" >
          <a href="emacs.html" title="Leo and Emacs"
             >previous</a> |</li>
        <li><a href="contents.html">Leo Doc</a> &raquo;</li>
          <li><a href="leoandotherprograms.html" >Leo and Other Programs</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Edward K. Ream.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>