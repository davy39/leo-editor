<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ILeo: Leo’s IPython Bridge &mdash; Leo Doc</title>
    
    <link rel="stylesheet" href="_static/leo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="Leo Doc" href="index.html" />
    <link rel="up" title="Leo and Other Programs" href="leoandotherprograms.html" />
    <link rel="next" title="Using ZODB with Leo" href="zodb.html" />
    <link rel="prev" title="Embedding Leo with the leoBridge module" href="leoBridge.html" />
    <script type="text/javascript">
        (function() {
            var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
            t.parentNode.insertBefore(s, t);
        })();
    </script>
     

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="zodb.html" title="Using ZODB with Leo"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="leoBridge.html" title="Embedding Leo with the leoBridge module"
             accesskey="P">previous</a> |</li>
        <li><a href="contents.html">Leo Doc</a> &raquo;</li>
          <li><a href="leoandotherprograms.html" accesskey="U">Leo and Other Programs</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ileo-leo-s-ipython-bridge">
<h1><a class="toc-backref" href="#id2">ILeo: Leo&#8217;s IPython Bridge</a><a class="headerlink" href="#ileo-leo-s-ipython-bridge" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#ileo-leo-s-ipython-bridge" id="id2">ILeo: Leo&#8217;s IPython Bridge</a><ul>
<li><a class="reference internal" href="#overview" id="id3">Overview</a></li>
<li><a class="reference internal" href="#starting-ileo" id="id4">Starting ILeo</a></li>
<li><a class="reference internal" href="#running-leo-scripts-from-ipython" id="id5">Running Leo scripts from IPython</a></li>
<li><a class="reference internal" href="#running-ipython-scripts-from-leo" id="id6">Running IPython scripts from Leo</a></li>
<li><a class="reference internal" href="#ileo-as-an-ipython-notebook" id="id7">ILeo as an IPython notebook</a></li>
<li><a class="reference internal" href="#ileo-and-the-valuespace-plugin" id="id8">ILeo and the valuespace plugin</a></li>
<li><a class="reference internal" href="#acknowledgements-and-history" id="id9">Acknowledgements and history</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id3">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Leo&#8217;s &#8211;ipython command-line option enables two-way communication
(<strong>ILeo</strong>, the <strong>IPython bridge</strong>) between Leo and IPython: you can run Leo
scripts from IPython, and IPython scripts from Leo.</p>
<p>The level of integration is much deeper than conventional integration in
IDEs. Most notably, you are able to store and manipulate <em>data</em> in Leo
nodes, in addition to mere program code&#8211;essentially making ILeo a
hierarchical spreadsheet, albeit with non-grid view of the data. The
possibilities of this are endless, and the approach can be applied in wide
range of problem domains with very little actual coding.</p>
</div>
<div class="section" id="starting-ileo">
<h2><a class="toc-backref" href="#id4">Starting ILeo</a><a class="headerlink" href="#starting-ileo" title="Permalink to this headline">¶</a></h2>
<p>To run Leo&#8217;s IPython bridge:</p>
<ol class="arabic">
<li><p class="first">Install IPython 0.8.3 or above.</p>
</li>
<li><p class="first"><a class="reference external" href="installing.html#running-leo-from-a-console-window">run Leo in a console window</a> with the &#8211;ipython command-line option
enabled. This option starts an instance of the IPython shell in the
console. Leo and IPython run simultaneously and independently. Their
separate event loops do not interfere with each other.</p>
<p>The ipython-new command launches new terminals connected to the same
IPython kernel.</p>
</li>
</ol>
</div>
<div class="section" id="running-leo-scripts-from-ipython">
<h2><a class="toc-backref" href="#id5">Running Leo scripts from IPython</a><a class="headerlink" href="#running-leo-scripts-from-ipython" title="Permalink to this headline">¶</a></h2>
<p><em>You can run any Leo script from IPython</em>. The IPython bridge injects an
object called _leo into IPython&#8217;s namespace. IPython scripts may access
Leo&#8217;s c and g objects as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">c</span><span class="p">,</span><span class="n">g</span> <span class="o">=</span> <span class="n">_leo</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="n">_leo</span><span class="o">.</span><span class="n">g</span>
</pre></div>
</div>
<p>This allows IPython scripts to do <em>anything</em> that a Leo script can do.
Scripts run from IPython <em>immediately</em> change Leo, <em>exactly</em> as if the
script were run from Leo.</p>
<p><strong>Important</strong>: the _leo object is an instance of LeoNameSpace class,
defined in leo.core.leoIPython.py. This class allows IPython scripts to
access multiple Leo outlines at once. See the actual code for details.</p>
</div>
<div class="section" id="running-ipython-scripts-from-leo">
<h2><a class="toc-backref" href="#id6">Running IPython scripts from Leo</a><a class="headerlink" href="#running-ipython-scripts-from-leo" title="Permalink to this headline">¶</a></h2>
<p><em>You can run any IPython script from Leo</em>. Leo&#8217;s ipython-exec (Alt-I)
command executes the body text of the presently selected Leo node in the
address space of the IPython shell. Such scripts <em>immediately</em> affect the
IPython interpreter.</p>
<p>The IPython bridge sets several global variables <em>within Leo</em>, allowing Leo
scripts <em>complete</em> access to all of IPython&#8217;s code and data:</p>
<ul class="simple">
<li>g.app.ipk.namespace is IPython&#8217;s namespace.</li>
<li>g.app.ipk.ipkernel is an IPython IPKernelApp object.</li>
<li>g.app.ipk.ipkernel.shell is an IPython InteractiveShell object.</li>
</ul>
</div>
<div class="section" id="ileo-as-an-ipython-notebook">
<h2><a class="toc-backref" href="#id7">ILeo as an IPython notebook</a><a class="headerlink" href="#ileo-as-an-ipython-notebook" title="Permalink to this headline">¶</a></h2>
<p>The IPython bridge turns Leo into another kind of <a class="reference external" href="http://projects.scipy.org/ipython/ipython/wiki/NoteBook">IPython Notebook</a>.
IPython users typically use %edit to produce non-trivial functions/classes
instead of entering them directly on the interactive prompt. But this is a
bit clumsy. With Leo, <em>every Leo node works like an IPython %edit file</em>:</p>
<ul class="simple">
<li>You can execute any Leo node in IPython with &lt;Alt-I&gt; (ipython-exec)</li>
<li>Saving your Leo outline saves all your IPython scripts.</li>
<li>You can use Leo as always to organize all your IPython scripts.</li>
</ul>
</div>
<div class="section" id="ileo-and-the-valuespace-plugin">
<h2><a class="toc-backref" href="#id8">ILeo and the valuespace plugin</a><a class="headerlink" href="#ileo-and-the-valuespace-plugin" title="Permalink to this headline">¶</a></h2>
<p>Leo&#8217;s valuespace.py plugin uses the ipython namespace when the
&#8211;ipython command line switch is in effect.</p>
<p>This plugin provides a &#8220;workbook&#8221; like way to get data from Leo document to
the namespace, and do calculations based on that data. Having this data be
accessible to the ipython instance makes it convenient to interact and poke
around with the same data.</p>
</div>
<div class="section" id="acknowledgements-and-history">
<h2><a class="toc-backref" href="#id9">Acknowledgements and history</a><a class="headerlink" href="#acknowledgements-and-history" title="Permalink to this headline">¶</a></h2>
<p>This idea got started when I (Ville M. Vainio) saw this post by Edward Ream
on IPython developer mailing list:
<a class="reference external" href="http://lists.ipython.scipy.org/pipermail/ipython-dev/2008-January/003551.html">http://lists.ipython.scipy.org/pipermail/ipython-dev/2008-January/003551.html</a></p>
<p>I was using FreeMind as mind mapping software, and so I had an immediate
use case for Leo (which, incidentally, is superior to FreeMind as mind
mapper). The wheels started rolling, I got obsessed with the power of this
concept (everything clicked together), and Edwards excitement paralleled
mine. Everything was mind-bogglingly easy/trivial, something that is
typical of all promising technologies.</p>
<p>The goal of close cooperation between Leo and IPython went from vague dream
to completed reality over the span of about 10 days. The IPython bridge has
continued to evolve since then.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="contents.html">
              <img class="logo" src="_static/Leo4-80-border.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ILeo: Leo&#8217;s IPython Bridge</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#starting-ileo">Starting ILeo</a></li>
<li><a class="reference internal" href="#running-leo-scripts-from-ipython">Running Leo scripts from IPython</a></li>
<li><a class="reference internal" href="#running-ipython-scripts-from-leo">Running IPython scripts from Leo</a></li>
<li><a class="reference internal" href="#ileo-as-an-ipython-notebook">ILeo as an IPython notebook</a></li>
<li><a class="reference internal" href="#ileo-and-the-valuespace-plugin">ILeo and the valuespace plugin</a></li>
<li><a class="reference internal" href="#acknowledgements-and-history">Acknowledgements and history</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><p>Leo: Leonine Editor with Outlines</p>
<p>Written by <a HREF="ekr.html">Edward K. Ream</a>
<a class="FlattrButton" style="display:none;" rev="flattr;button:compact;" href="http://leoeditor.com"></a>
<noscript>
<a href="http://flattr.com/thing/410073/Leo" target="_blank">
<img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0" />
</a>
</noscript>
</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="zodb.html" title="Using ZODB with Leo"
             >next</a> |</li>
        <li class="right" >
          <a href="leoBridge.html" title="Embedding Leo with the leoBridge module"
             >previous</a> |</li>
        <li><a href="contents.html">Leo Doc</a> &raquo;</li>
          <li><a href="leoandotherprograms.html" >Leo and Other Programs</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Edward K. Ream.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>